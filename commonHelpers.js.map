{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderPictures(hits) {\n    return hits.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\" \n            alt=\"${tags}\" \n            width=\"360\"\n            height=\"152\" \n          />\n        </a>\n        <div class=\"discribe-box\">\n          <ul class=\"discribe-list\">\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Likes</h2>\n              <p class=\"discribe-text\">${likes}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Views</h2>\n              <p class=\"discribe-text\">${views}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Comments</h2>\n              <p class=\"discribe-text\">${comments}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Downloads</h2>\n              <p class=\"discribe-text\">${downloads}</p>\n            </li>\n          </ul>\n        </div>\n      </li>\n    `).join(\"\");\n}\n","const params = {\n    key: \"44868701-a6c2bf036a020cab1604664f3\",\n    q: \"\",\n    imageType: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n};\n\nexport function generateHttpsQuery(formValue) {\n    params.q = formValue;\n    const queryString = new URLSearchParams(params).toString();\n    return `https://pixabay.com/api/?${queryString}`;\n}\n\nexport function fetchPictures(httpsQuery) {\n    return fetch(httpsQuery)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderPictures } from \"./js/render-functions\";\nimport { generateHttpsQuery, fetchPictures } from \"./js/pixabay-api\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n});\n\nconst refs = {\n    searchForm: document.querySelector(\".js-search-form\"),\n    gallery: document.querySelector(\".js-gallery\"),\n    loader: document.querySelector(\".js-loader\"),\n};\n\nrefs.searchForm.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const formValue = form.elements.searchtext.value.toLowerCase().trim();\n    refs.gallery.innerHTML = \"\";\n    refs.loader.classList.add(\"loader\");\n    fetchPictures(generateHttpsQuery(formValue))\n        .then((data) => {\n            refs.loader.classList.remove(\"loader\");\n            const hits = data.hits;\n            if (hits.length === 0) {\n                fetchError();\n            } \n            refs.gallery.insertAdjacentHTML(\"beforeend\", renderPictures(hits));\n            lightbox.refresh();\n        })\n        .catch(fetchError)\n        .finally(refs.searchForm.reset());\n}\n\nfunction fetchError(error) {\n    iziToast.error({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n}\n\n"],"names":["renderPictures","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","params","generateHttpsQuery","formValue","fetchPictures","httpsQuery","response","lightbox","SimpleLightbox","refs","handlerSubmit","event","data","fetchError","error","iziToast"],"mappings":"6vBAAO,SAASA,EAAeC,EAAM,CACjC,OAAOA,EAAK,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,wCAExDL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASkBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAK7C,EAAE,KAAK,EAAE,CACd,CClCA,MAAMC,EAAS,CACX,IAAK,qCACL,EAAG,GACH,UAAW,QACX,YAAa,aACb,WAAY,EAChB,EAEO,SAASC,EAAmBC,EAAW,CAC1C,OAAAF,EAAO,EAAIE,EAEJ,4BADa,IAAI,gBAAgBF,CAAM,EAAE,SAAQ,CACV,EAClD,CAEO,SAASG,EAAcC,EAAY,CACtC,OAAO,MAAMA,CAAU,EAClB,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCbA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEKC,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAa,EAExD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAGpB,MAAMR,EADOQ,EAAM,cACI,SAAS,WAAW,MAAM,YAAW,EAAG,OAC/DF,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCL,EAAcF,EAAmBC,CAAS,CAAC,EACtC,KAAMS,GAAS,CACZH,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrC,MAAMhB,EAAOmB,EAAK,KACdnB,EAAK,SAAW,GAChBoB,IAEJJ,EAAK,QAAQ,mBAAmB,YAAajB,EAAeC,CAAI,CAAC,EACjEc,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMM,CAAU,EAChB,QAAQJ,EAAK,WAAW,MAAO,CAAA,CACxC,CAEA,SAASI,EAAWC,EAAO,CACvBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACjB,CAAK,CACL"}